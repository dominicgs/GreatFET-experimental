

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Indigo &mdash; GreatFET One  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/status.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="greatfet_logic" href="greatfet_logic.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> GreatFET One
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="board_naming.html">Board Naming</a></li>
<li class="toctree-l1"><a class="reference internal" href="design_neighbor.html">How to Design a Neighbor</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_firmware_development.html">Getting Started with Firmware Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="greatfet_gnuradio.html">GreatFET and GNURadio</a></li>
<li class="toctree-l1"><a class="reference internal" href="greatfet_classes.html">GreatFET Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="greatfet_i2c.html">greatfet_i2c</a></li>
<li class="toctree-l1"><a class="reference internal" href="i2c_registry.html">I2C Registry</a></li>
<li class="toctree-l1"><a class="reference internal" href="greatfet_logic.html">greatfet_logic</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Indigo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#triggering">Triggering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clocking-stuff">Clocking Stuff</a></li>
<li class="toctree-l2"><a class="reference internal" href="#triggering-from-m0-core">Triggering from M0 Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="#serial-to-chipwhisperer">Serial to ChipWhisperer</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GreatFET One</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Indigo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/indigo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="indigo">
<h1>Indigo<a class="headerlink" href="#indigo" title="Permalink to this headline">¶</a></h1>
<p>Indigo is the ChipWhisperer interface + bonus voltage glitching neighbour. This page is mostly used as some notes on the design + required firmware changes to properly support this.</p>
<p>This board has two main use-cases: (1) triggering the ChipWhisperer for glitching &amp; side-channel power analysis, while using the GreatFET to communicate with your ‘target’ device, or (2) communicating with any of the ChipWhisperer targets (such as the various UFO board targets).</p>
<div class="section" id="triggering">
<h2>Triggering<a class="headerlink" href="#triggering" title="Permalink to this headline">¶</a></h2>
<p>The main usage of the GreatFET in this use-case is actually to communicate with the target, while providing a high-precision trigger based on certain packets sent to / received from the target. This is handy as the GreatFET has lots of nice code for doing stuff like USB host testing etc.</p>
</div>
<div class="section" id="clocking-stuff">
<h2>Clocking Stuff<a class="headerlink" href="#clocking-stuff" title="Permalink to this headline">¶</a></h2>
<p>You may need to clock the ChipWhisperer in such a way it remains phase-locked to the crystal on the LPC4330.</p>
<p><strong>TODO: Check clock routing, can we enable CLKOUT to one I/O pin routed to neighbours.</strong></p>
</div>
<div class="section" id="triggering-from-m0-core">
<h2>Triggering from M0 Core<a class="headerlink" href="#triggering-from-m0-core" title="Permalink to this headline">¶</a></h2>
<p>The LPC4330 has both a M4 and M0 core. This project relies on the M0 core for triggering. Basically the deal is:</p>
<ol class="arabic simple">
<li>The M0 core is configured to be have a relevant interrupt based on what you wish to trigger on. For example if triggering on USB, you’d have a USB interrupt. If triggering based on a USART message, you’d trigger from the USART RX or TX interrupt (depending on what you want).</li>
<li>The M0 core (should) have very constant-time delay between the physical event (packet over wire)</li>
<li>The interrupt can either cause an external trigger as soon as the interrupt happens (useful when you KNOW the next byte/packet is the one to trigger on), or potentially trigger based on some data analysis. <strong>TODO: Check for interaction between M0/M4 core. For example if M4 core reads peripheral does it ‘lock’ it from M0 core, meaning we may have some timing jitter? Also need to avoid doing anything such as reading registers that will auto-clear flags.</strong></li>
</ol>
<p>The separate M0 core is critical as attempting to trigger from the M4 core may be unreliable. The M4 core has other interrupts (such as the USB SOF) to deal with, and means there could be some jitter from the time the physical event happens &amp; the time the M4 core gets around to toggling the external I/O pin.</p>
</div>
<div class="section" id="serial-to-chipwhisperer">
<h2>Serial to ChipWhisperer<a class="headerlink" href="#serial-to-chipwhisperer" title="Permalink to this headline">¶</a></h2>
<p>Sending messages to the ChipWhisperer could be handy. Use I2C to UART bus when needed perhaps (instead of one of the UARTs?). The LPC4330 seems to have lots of UARTs though, and could be handy for speed reasons to skip the I2C bus.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="greatfet_logic.html" class="btn btn-neutral float-left" title="greatfet_logic" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Great Scott Gadgets.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>